# 日志管理工具

一个使用 Rust 和 Tauri 构建的 Windows 桌面日志管理工具，具有类似 Android 小组件的界面风格。

## 功能特性

- 📝 **任务管理**: 添加、完成、删除任务
- 📅 **日程安排**: 创建和管理日程事项
- ⏰ **倒计时器**: 重要日期倒计时显示
- 🍅 **番茄钟**: 25分钟专注 + 5分钟休息
- ⏱️ **计时器**: 自定义时长计时
- 💾 **数据持久化**: 自动保存到本地配置目录
- 🎨 **美观界面**: 透明背景，毛玻璃效果
- 📌 **桌面置顶**: 类似小组件的桌面体验

## 安装要求

1. **Rust 环境**:
   - 安装 Rust: https://rustup.rs/
   - 确保已安装 `cargo`

2. **Tauri 依赖**:
   - Windows: 安装 Microsoft Visual Studio C++ 构建工具
   - WebView2 Runtime (通常 Windows 11 已自带)

## 构建和运行

1. **安装 Tauri CLI**:
   ```bash
   cargo install tauri-cli
   ```

2. **开发模式运行**:
   ```bash
   cargo tauri dev
   ```

3. **构建生产版本**:
   ```bash
   cargo tauri build
   ```

## 文件结构

```
log-manager/
├── src/                    # Rust 后端代码
│   └── main.rs            # 主程序入口
├── dist/                   # 前端资源
│   ├── index.html         # 主页面
│   ├── style.css          # 样式文件
│   └── app.js             # JavaScript 逻辑
├── src-tauri/             # Tauri 配置
│   └── tauri.conf.json    # Tauri 配置文件
├── build.rs               # 构建脚本
├── Cargo.toml             # Rust 项目配置
└── README.md              # 项目说明
```

## 使用说明

### 界面布局
- **透明窗口**: 具有毛玻璃效果的半透明界面
- **标签切换**: 任务、日程、计时器三个主要功能区
- **系统托盘**: 最小化到系统托盘，右键菜单控制

### 任务管理
- 在"任务"标签页中添加新任务
- 点击复选框标记任务完成
- 点击 × 按钮删除任务

### 日程安排
- 在"日程"标签页中添加新日程
- 设置具体的日期和时间
- 查看重要日期的倒计时

### 计时功能
- **普通计时器**: 设置分钟数，倒计时到零
- **番茄钟**: 标准的 25 分钟工作 + 5 分钟休息循环

## 数据存储

应用数据自动保存在用户配置目录：
- Windows: `%APPDATA%/log-manager/app_data.json`

## 桌面小组件特性

- **置顶显示**: 始终显示在其他窗口之上
- **透明背景**: 与桌面融为一体
- **无边框**: 现代化的界面设计
- **拖拽移动**: 点击标题栏拖拽窗口位置

## 系统托盘

- 点击关闭按钮会隐藏到系统托盘而不是退出
- 右键托盘图标可以显示/隐藏窗口或完全退出

## 开发说明

### 后端 (Rust)
- 使用 Tauri 框架
- 数据结构：Task、Schedule、Timer
- 自动保存到 JSON 文件

### 前端 (HTML/CSS/JS)
- 原生 Web 技术，无额外框架依赖
- 响应式设计，支持不同窗口大小
- 使用 Tauri API 与后端通信

## 故障排除

1. **构建失败**:
   - 确保已安装 Rust 和 C++ 构建工具
   - 检查 WebView2 Runtime 是否安装

2. **应用无法启动**:
   - 检查防火墙设置
   - 确保有足够的系统权限

3. **数据不保存**:
   - 检查用户配置目录写入权限
   - 查看控制台错误信息

## 许可证

此项目仅供学习和个人使用。

## 更新日志

### v0.1.0
- 初始版本发布
- 基本的任务、日程和计时功能
- 透明界面和系统托盘支持
- 数据持久化存储